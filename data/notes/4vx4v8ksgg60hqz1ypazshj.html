<h1 id="2024-03-04"><a aria-hidden="true" class="anchor-heading icon-link" href="#2024-03-04"></a>2024-03-04</h1>
<h1 id="this-is-pmass-commons-lab-daily-open-notebook"><a aria-hidden="true" class="anchor-heading icon-link" href="#this-is-pmass-commons-lab-daily-open-notebook"></a>This is PMAS's COMMONS Lab daily Open Notebook.</h1>
<p>Today is 2024.03.04</p>
<h2 id="todo-today"><a aria-hidden="true" class="anchor-heading icon-link" href="#todo-today"></a>Todo today</h2>
<h3 id="have-a-look-at-the-commons-research-discussion-forum"><a aria-hidden="true" class="anchor-heading icon-link" href="#have-a-look-at-the-commons-research-discussion-forum"></a>Have a look at the COMMONS research discussion forum</h3>
<pre><code>- https://github.com/orgs/commons-research/discussions
</code></pre>
<h3 id="daily-work-on-the-open-science-for-natural-products-research-viewpoint"><a aria-hidden="true" class="anchor-heading icon-link" href="#daily-work-on-the-open-science-for-natural-products-research-viewpoint"></a>Daily work on the Open Science for natural products research Viewpoint</h3>
<p>See <a href="/commons-dws-public/notes/43p60vv8btyhaclugl93jok">Viewpoint</a></p>
<h3 id=""><a aria-hidden="true" class="anchor-heading icon-link" href="#"></a></h3>
<h3 id="-1"><a aria-hidden="true" class="anchor-heading icon-link" href="#-1"></a></h3>
<h2 id="doing"><a aria-hidden="true" class="anchor-heading icon-link" href="#doing"></a>Doing</h2>
<h3 id="launching-sirius-on-olas-dataset"><a aria-hidden="true" class="anchor-heading icon-link" href="#launching-sirius-on-olas-dataset"></a>Launching Sirius on Ola's dataset</h3>
<ul>
<li>Not sure what the duplicated feature id problem was again or where it came from.
Relaunching the biostat tool box to double check.</li>
</ul>
<p>Typical command would be </p>
<pre class="language-bash"><code class="language-bash">sirius -i tests/data/input_sirius.mgf --output tests/data/output_sirius --maxmz <span class="token number">800</span> config --IsotopeSettings.filter<span class="token operator">=</span>true --FormulaSearchDB<span class="token operator">=</span>BIO --Timeout.secondsPerTree<span class="token operator">=</span><span class="token number">0</span> --FormulaSettings.enforced<span class="token operator">=</span>HCNOP --Timeout.secondsPerInstance<span class="token operator">=</span><span class="token number">0</span> --AdductSettings.detectable<span class="token operator">=</span><span class="token string">'[[M+H]+,[M-H4O2+H]+,[M+Na]+,[M+K]+,[M+H3N+H]+,[M-H2O+H]+]'</span> --UseHeuristic.mzToUseHeuristicOnly<span class="token operator">=</span><span class="token number">650</span> --AlgorithmProfile<span class="token operator">=</span>orbitrap --IsotopeMs2Settings<span class="token operator">=</span>IGNORE --MS2MassDeviation.allowedMassDeviation<span class="token operator">=</span><span class="token number">5</span>.0ppm --NumberOfCandidatesPerIon<span class="token operator">=</span><span class="token number">1</span> --UseHeuristic.mzToUseHeuristic<span class="token operator">=</span><span class="token number">300</span> --FormulaSettings.detectable<span class="token operator">=</span>B,Cl,Br,Se,S --NumberOfCandidates<span class="token operator">=</span><span class="token number">10</span> --ZodiacNumberOfConsideredCandidatesAt300Mz<span class="token operator">=</span><span class="token number">10</span> --ZodiacRunInTwoSteps<span class="token operator">=</span>true --ZodiacEdgeFilterThresholds.minLocalConnections<span class="token operator">=</span><span class="token number">10</span> --ZodiacEdgeFilterThresholds.thresholdFilter<span class="token operator">=</span><span class="token number">0.95</span> --ZodiacEpochs.burnInPeriod<span class="token operator">=</span><span class="token number">2000</span> --ZodiacEpochs.numberOfMarkovChains<span class="token operator">=</span><span class="token number">10</span> --ZodiacNumberOfConsideredCandidatesAt800Mz<span class="token operator">=</span><span class="token number">50</span> --ZodiacEpochs.iterations<span class="token operator">=</span><span class="token number">20000</span> --AdductSettings.enforced<span class="token operator">=</span>, --AdductSettings.fallback<span class="token operator">=</span><span class="token string">'[[M+H]+,[M+Na]+,[M+K]+]'</span> --FormulaResultThreshold<span class="token operator">=</span>true --InjectElGordoCompounds<span class="token operator">=</span>true --StructureSearchDB<span class="token operator">=</span>BIO --RecomputeResults<span class="token operator">=</span>false formula zodiac fingerprint structure canopus write-summaries
</code></pre>
<p>First we make sure to log via </p>
<p>sirius login --user-env SIRIUS_USERNAME --password-env SIRIUS_PASSWORD</p>
<p>sirius -i /home/allardpm/git_repos/mapp-metabolomics/laure-weisskopf-group/docs/mapp_project_00016/mapp_batch_00060/results/mzmine/mapp_batch_00060_sirius.mgf --output /home/allardpm/git_repos/mapp-metabolomics/laure-weisskopf-group/docs/mapp_project_00016/mapp_batch_00060/results/sirius/mapp_batch_00060 --maxmz 800  config --IsotopeSettings.filter=true --FormulaSearchDB=BIO --Timeout.secondsPerTree=0 --FormulaSettings.enforced=HCNOP --Timeout.secondsPerInstance=0 --AdductSettings.detectable=[[M+H3N+H]+,[M+Na]+,[M-H4O2+H]+,[M+K]+,[M-H2O+H]+,[M+H]+] --UseHeuristic.mzToUseHeuristicOnly=650 --AlgorithmProfile=orbitrap --IsotopeMs2Settings=IGNORE --MS2MassDeviation.allowedMassDeviation=5.0ppm --NumberOfCandidatesPerIon=1 --UseHeuristic.mzToUseHeuristic=300 --FormulaSettings.detectable=Cl,Br,S --NumberOfCandidates=10 --ZodiacNumberOfConsideredCandidatesAt300Mz=10 --ZodiacRunInTwoSteps=true --ZodiacEdgeFilterThresholds.minLocalConnections=10 --ZodiacEdgeFilterThresholds.thresholdFilter=0.95 --ZodiacEpochs.burnInPeriod=2000 --ZodiacEpochs.numberOfMarkovChains=10 --ZodiacNumberOfConsideredCandidatesAt800Mz=50 --ZodiacEpochs.iterations=20000 --AdductSettings.enforced=, --AdductSettings.fallback=[[M+Na]+,[M+K]+,[M-H2O+H]+,[M+H]+] --FormulaResultThreshold=true --InjectElGordoCompounds=true --StructureSearchDB=BIO --RecomputeResults=false formula zodiac fingerprint structure canopus write-summaries</p>
<p>Writing the command I realize that initially I might have <code>sirius -i /home/allardpm/git_repos/mapp-metabolomics/laure-weisskopf-group/docs/mapp_project_00016/mapp_batch_00060/results/mzmine</code>, thereby specifying a whole directory instead of a file. This might be the source of the problem. I will relaunch the command with the correct input file. <code>sirius -i /home/allardpm/git_repos/mapp-metabolomics/laure-weisskopf-group/docs/mapp_project_00016/mapp_batch_00060/results/mzmine/mapp_batch_00060_sirius.mgf</code></p>
<p>I also realized another thing. The --RecomputeResults=false will only be effective if the input is changed to the previously computed directory. It seams obvious now that I think about it but since the commond doesnt throws an exception I didn't realize it. See <a href="https://github.com/boecker-lab/sirius/issues/69#issuecomment-1098053079">https://github.com/boecker-lab/sirius/issues/69#issuecomment-1098053079</a></p>
<p>We had some awk commands which we cant find again.</p>
<p>Mooved to <a href="/commons-dws-public/notes/6ooxuf27zzf3grb14o18qf2">Awk</a></p>
<p>canopus_compound_summary.tsv > prefixed_canopus_compound_summary.tsv</p>
<p>awk -F'\t' 'BEGIN {OFS="\t"} NR==1 {for (i=1; i&#x3C;=NF; i++) $i = "canopus_" $i} {print}' canopus_compound_summary.tsv > prefixed_canopus_compound_summary.tsv</p>
<p>awk -F'\t' 'BEGIN {OFS="\t"} NR==1 {for (i=1; i&#x3C;=NF; i++) $i = "sirius_" $i} {print}' compound_identifications.tsv > prefixed_compound_identifications.tsv</p>
<p>awk -F'\t' 'BEGIN {OFS="\t"} NR==1 {for (i=1; i&#x3C;=NF; i++) $i = "dbresults<em>gnps</em>" $i} {print}' e18c64bf354f457bb534c513821f7426.tsv > e18c64bf354f457bb534c513821f7426_prefixed.tsv</p>
<p>awk -F'\t' 'BEGIN {OFS="\t"} NR==1 {for (i=1; i&#x3C;=NF; i++) $i = "gnps_" $i} {print}' 0735059ee1034ad58a3861c2630e593f.tsv > 0735059ee1034ad58a3861c2630e593f_prefixed.tsv</p>
<p>awk -F'\t' 'BEGIN {OFS="\t"} NR==1 {for (i=1; i&#x3C;=NF; i++) $i = "met<em>annot_enhancer</em>" $i} {print}' mapp_batch_00060_spectral_match_results_repond.tsv > mapp_batch_00060_spectral_match_results_repond_prefixed.tsv</p>
<h3 id="meeting-eliane-garo"><a aria-hidden="true" class="anchor-heading icon-link" href="#meeting-eliane-garo"></a>Meeting Eliane Garo</h3>
<p>Malik and Eliane</p>
<p>Info Orbitrap</p>
<ul>
<li>QE HF-X</li>
</ul>
<p>2576 extracts</p>
<p>MeOH </p>
<p>Splitter UHPLC with UV</p>
<p>Waters 50 mm </p>
<h2 id="paused"><a aria-hidden="true" class="anchor-heading icon-link" href="#paused"></a>Paused</h2>
<h2 id="done"><a aria-hidden="true" class="anchor-heading icon-link" href="#done"></a>Done</h2>
<h2 id="notes"><a aria-hidden="true" class="anchor-heading icon-link" href="#notes"></a>Notes</h2>
<h2 id="todo-tomorrow-one-day--or-never"><a aria-hidden="true" class="anchor-heading icon-link" href="#todo-tomorrow-one-day--or-never"></a>Todo tomorrow, one day ... or never</h2>
<h3 id="-2"><a aria-hidden="true" class="anchor-heading icon-link" href="#-2"></a></h3>
<h3 id="-3"><a aria-hidden="true" class="anchor-heading icon-link" href="#-3"></a></h3>
<h2 id="today-i-learned-that"><a aria-hidden="true" class="anchor-heading icon-link" href="#today-i-learned-that"></a>Today I learned that</h2>
<ul>
<li>o</li>
</ul>