<h1 id="setup"><a aria-hidden="true" class="anchor-heading icon-link" href="#setup"></a>Setup</h1>
<h3 id="defining-a-note-trait-for-daily-logs"><a aria-hidden="true" class="anchor-heading icon-link" href="#defining-a-note-trait-for-daily-logs"></a>Defining a Note trait for daily logs</h3>
<p>The idea is to be able to have a template and a note trait which can easily create note following the behaviors of a Daily Journal Note.
For this we followed <a href="https://wiki.dendron.so/notes/kwgbkl58xka0zsib8uhhkfw/">https://wiki.dendron.so/notes/kwgbkl58xka0zsib8uhhkfw/</a> and <a href="https://wiki.dendron.so/notes/bdZhT3nF8Yz3WDzKp7hqh/">https://wiki.dendron.so/notes/bdZhT3nF8Yz3WDzKp7hqh/</a></p>
<p>I resume below the followed recipe.</p>
<h4 id="set-the-notes-trait"><a aria-hidden="true" class="anchor-heading icon-link" href="#set-the-notes-trait"></a>Set the Notes trait</h4>
<ol>
<li>
<p>Create a new Note Trait
Run the command <code>Dendron: Configure Note Traits</code>. Give your new trait a unique name. In this example, we'll call the trait <code>open-notebook-commons-pmallard</code>. Hit Enter and a <code>open-notebook-commons-pmallard.js</code> file will appear in your editor. This is where you define your custom trait logic.</p>
</li>
<li>
<p>Add the trait behavior
Add in Javascript code to have custom settings when creating the note name and the note title.</p>
</li>
</ol>
<p>Here we used </p>
<pre class="language-js"><code class="language-js">module<span class="token punctuation">.</span><span class="token property-access">exports</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">OnWillCreate</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token doc-comment comment">/**
     * This example sets a prefix of 'planning', and then adds a date hierarchy
     * using the luxon module.
     */</span>
    <span class="token function">setNameModifier</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// This example sets a prefix of 'planning', and then adds a date</span>
      <span class="token comment">// hierarchy using the luxon module.</span>
      <span class="token keyword control-flow">return</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"open-notebook.commons.pma."</span> <span class="token operator">+</span> luxon<span class="token punctuation">.</span><span class="token property-access"><span class="token maybe-class-name">DateTime</span></span><span class="token punctuation">.</span><span class="token method function property-access">local</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">toFormat</span><span class="token punctuation">(</span><span class="token string">"yyyy.MM.dd"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token literal-property property">promptUserForModification</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">OnCreate</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">setTitle</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// This example will use the currentNoteName property, extract the</span>
      <span class="token comment">// yyyy.MM.dd date portion of the note name, and then reformat it with</span>
      <span class="token comment">// dashes.</span>
      <span class="token keyword control-flow">return</span> props<span class="token punctuation">.</span><span class="token property-access">currentNoteName</span><span class="token punctuation">.</span><span class="token method function property-access">split</span><span class="token punctuation">(</span><span class="token string">"."</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">slice</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">join</span><span class="token punctuation">(</span><span class="token string">"-"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token doc-comment comment">/**
     * Apply a template to each note. NOTE: If you want to use this code, you
     * will need a note file called `templates.planning-template.md` in your
     * Dendron workspace.
     */</span>
    <span class="token function-variable function">setTemplate</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
      <span class="token keyword control-flow">return</span> <span class="token string">"templates.open-notebook.commons.pmallard"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<h4 id="edit-the-template"><a aria-hidden="true" class="anchor-heading icon-link" href="#edit-the-template"></a>Edit the template.</h4>
<p>You can (optionally) have a template for your journal notes.
Here I used the following <a href="/commons-dws-public/notes/qyxwa1l9hfoi9d8pis7v98l">Pmallard</a>.
This template can be modified according to your needs.</p>
<h4 id="set-a-keyboard-shortcut"><a aria-hidden="true" class="anchor-heading icon-link" href="#set-a-keyboard-shortcut"></a>Set a keyboard shortcut</h4>
<p>I added a keyboard shortcut for it. But this needs to be done locally in your VSCode preferences (its not part of the published Dendron)
For this you can</p>
<ol>
<li>Run the VSCode Command <code>Preferences: Open Keyboard Shortcuts (JSON)</code> (Cmd+Shift + P)</li>
<li>Add the following entry to the bottom of your keybindings.json file, with the shortcut key combo of your choice:</li>
</ol>
<pre class="language-json"><code class="language-json">  <span class="token punctuation">{</span>
    <span class="token property">"key"</span><span class="token operator">:</span> <span class="token string">"cmd+o cmd+n"</span><span class="token punctuation">,</span>
    <span class="token property">"command"</span><span class="token operator">:</span> <span class="token string">"dendron.customCommand.open-notebook-commons-pmallard"</span>
  <span class="token punctuation">}</span>
</code></pre>
<p>For example :</p>
<ul>
<li>open-notebook-commons-pmallard.js</li>
</ul>
<p>Adapt your keyboard shortcuts so that it leads to your own note traits.</p>
<hr>
<strong>Backlinks</strong>
<ul>
<li><a href="/commons-dws-public/notes/ovslc641d0h00s16tf6kl8w">Welcome</a></li>
<li><a href="/">Welcome to the COMMONS Lab Open Dendron</a></li>
</ul>